---
id: request
title: Request
---
<a name="exp_module_Request--Request"></a>

## Request ⏏
Represents a URL to be crawled, optionally including HTTP method, headers, payload and other metadata.
The `Request` object also stores information about errors that occurred during processing of the request.

Each `Request` instance has the `uniqueKey` property, which is be either specified
manually in constructor or generated automatically from the URL. Two requests with the same `uniqueKey`
are considered as pointing to the same web page. This behavior applies to all Apify SDK classes,
such as {@linkcode RequestList}, {@linkcode RequestQueue} or {@linkcode PuppeteerCrawler}.

Example use:

```javascript
const request = new Apify.Request({
    url: 'http://www.example.com',
    headers: { Accept: 'application/json' },
});

...

request.userData.foo = 'bar';
request.pushErrorMessage(new error('request failed!'));

...

const foo = request.userData.foo;
```

**Kind**: global class of [<code>Request</code>](#module_Request)  
**See**

- [RequestList](requestlist)
- [RequestQueue](#requestqueue)

* [Request](#exp_module_Request--Request) ⏏
    * [`new Request(opts)`](#new_module_Request--Request_new)
    * [`.pushErrorMessage(errorOrMessage)`](#module_Request--Request+pushErrorMessage)

<a name="new_module_Request--Request_new"></a>

### `new Request(opts)`
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>opts</code></td><td><code>object</code></td><td></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>opts.url</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>URL of the web page to crawl.</p>
</td></tr><tr>
<td><code>[opts.uniqueKey]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>A unique key identifying the request.
Two requests with the same <code>uniqueKey</code> are considered as pointing to the same URL.</p>
<p>If <code>uniqueKey</code> is not provided, then it is automatically generated by normalizing the URL.
For example, the URL of <code>HTTP://www.EXAMPLE.com/something/</code> will be generated the <code>uniqueKey</code>
of <code>http://www.example.com/something</code>. The <code>keepUrlFragment</code> option
determines whether URL hash fragment is included in the <code>uniqueKey</code> or not. Beware that the HTTP method
and payload is not included in the <code>uniqueKey</code>, so requests to the same URL but with different
HTTP methods or different POST payloads are all considered equal.</p>
<p>You can set <code>uniqueKey</code> property to arbitrary non-empty text value in order
to override the default behavior and specify which URLs shall be considered equal.</p>
</td></tr><tr>
<td><code>[opts.method]</code></td><td><code>String</code></td><td><code>&#x27;GET&#x27;</code></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>[opts.payload]</code></td><td><code>String</code> | <code>Buffer</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>HTTP request payload, e.g. for POST requests.</p>
</td></tr><tr>
<td><code>[opts.retryCount]</code></td><td><code>Number</code></td><td><code>0</code></td>
</tr>
<tr>
<td colspan="3"><p>Indicates how many times the URL was retried in a case of error.</p>
</td></tr><tr>
<td><code>[opts.errorMessages]</code></td><td><code>Array.&lt;String&gt;</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>An array of error messages from request processing.</p>
</td></tr><tr>
<td><code>[opts.headers]</code></td><td><code>String</code></td><td><code>{}</code></td>
</tr>
<tr>
<td colspan="3"><p>HTTP headers.</p>
</td></tr><tr>
<td><code>[opts.userData]</code></td><td><code>Object</code></td><td><code>{}</code></td>
</tr>
<tr>
<td colspan="3"><p>Custom user data assigned to the request.</p>
</td></tr><tr>
<td><code>[opts.keepUrlFragment]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>false</code> then hash part is removed from the URL when computing the <code>uniqueKey</code> property.
  For example, this causes the <code>http://www.example.com#foo</code> and <code>http://www.example.com#bar</code> URLs
  to have the same <code>uniqueKey</code> of <code>http://www.example.com</code> and thus the URLs are considered equal.
  Note that this option only has effect if <code>uniqueKey</code> is not set.</p>
</td></tr><tr>
<td><code>[opts.ignoreErrors]</code></td><td><code>String</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then errors in processing of this will be ignored.
  For example, the request won&#39;t be retried in a case of an error for example.</p>
</td></tr></tbody>
</table>
<a name="module_Request--Request+pushErrorMessage"></a>

### `request.pushErrorMessage(errorOrMessage)`
Stores information about an error occurred during processing of this request.

**Kind**: instance method of [<code>Request</code>](#exp_module_Request--Request)  
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>errorOrMessage</code></td><td><code>Error</code> | <code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Error object or error message to be stored in request.</p>
</td></tr></tbody>
</table>
