---
id: request
title: Request
---
<a name="exp_module_Request--Request"></a>

## Request ⏏
Represents a URL to be crawled, optionally including HTTP method, headers, payload and other metadata.
The `Request` object also stores information about errors that occurred during processing of the request.

Each `Request` instance has the `uniqueKey` property, which is be either specified
manually in constructor or generated automatically from the URL. Two requests with the same `uniqueKey`
are considered as pointing to the same web page. This behavior applies to all Apify SDK classes,
such as {@linkcode RequestList}, {@linkcode RequestQueue} or {@linkcode PuppeteerCrawler}.

Example use:

```javascript
const request = new Apify.Request({
    url: 'http://www.example.com',
    headers: { Accept: 'application/json' },
});

...

request.userData.foo = 'bar';
request.pushErrorMessage(new Error('Request failed!'));

...

const foo = request.userData.foo;
```

**Kind**: global class of [<code>Request</code>](#module_Request)  
**See**

- [RequestList](RequestList)
- [RequestQueue](#RequestQueue)

* [Request](#exp_module_Request--Request) ⏏
    * [`new Request(opts)`](#new_module_Request--Request_new)
    * [`.pushErrorMessage(errorOrMessage)`](#module_Request--Request+pushErrorMessage)

<a name="new_module_Request--Request_new"></a>

### `new Request(opts)`

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| opts | <code>object</code> |  |  |
| opts.url | <code>String</code> |  | URL of the web page to crawl. |
| [opts.uniqueKey] | <code>String</code> |  | A unique key identifying the request. Two requests with the same `uniqueKey` are considered as pointing to the same URL. If `uniqueKey` is not provided, then it is automatically generated by normalizing the URL. For example, the URL of `HTTP://www.EXAMPLE.com/something/` will be generated the `uniqueKey` of `http://www.example.com/something`. The `keepUrlFragment` option determines whether URL hash fragment is included in the `uniqueKey` or not. Beware that the HTTP method and payload is not included in the `uniqueKey`, so requests to the same URL but with different HTTP methods or different POST payloads are all considered equal. You can set `uniqueKey` property to arbitrary non-empty text value in order to override the default behavior and specify which URLs shall be considered equal. |
| [opts.method] | <code>String</code> | <code>&#x27;GET&#x27;</code> |  |
| [opts.payload] | <code>String</code> \| <code>Buffer</code> |  | HTTP request payload, e.g. for POST requests. |
| [opts.retryCount] | <code>Number</code> | <code>0</code> | Indicates how many times the URL was retried in a case of error. |
| [opts.errorMessages] | <code>Array.&lt;String&gt;</code> |  | An array of error messages from request processing. |
| [opts.headers] | <code>String</code> | <code>{}</code> | HTTP headers. |
| [opts.userData] | <code>Object</code> | <code>{}</code> | Custom user data assigned to the request. |
| [opts.keepUrlFragment] | <code>Boolean</code> | <code>false</code> | If `false` then hash part is removed from the URL when computing the `uniqueKey` property.   For example, this causes the `http://www.example.com#foo` and `http://www.example.com#bar` URLs   to have the same `uniqueKey` of `http://www.example.com` and thus the URLs are considered equal.   Note that this option only has effect if `uniqueKey` is not set. |
| [opts.ignoreErrors] | <code>String</code> | <code>false</code> | If `true` then errors in processing of this will be ignored.   For example, the request won't be retried in a case of an error for example. |

<a name="module_Request--Request+pushErrorMessage"></a>

### `request.pushErrorMessage(errorOrMessage)`
Stores information about an error occurred during processing of this request.

**Kind**: instance method of [<code>Request</code>](#exp_module_Request--Request)  

| Param | Type | Description |
| --- | --- | --- |
| errorOrMessage | <code>Error</code> \| <code>String</code> | Error object or error message to be stored in request. |

